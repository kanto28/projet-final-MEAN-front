<div class="card">
    <h2>Créer une nouvelle prestation</h2>
  
    <!-- Message de succès -->
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
  
    <!-- Message d'erreur -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
      <button type="button" class="close" (click)="clearMessages()">&times;</button>
    </div>
  
    <form (ngSubmit)="onSubmit()" #prestationForm="ngForm">
      <div class="form-group">
        <label for="name">Nom de la prestation</label>
        <input 
          type="text" 
          id="name" 
          name="name" 
          [(ngModel)]="prestation.name" 
          required
          class="form-control"
        >
      </div>
  
      <div class="form-group">
        <label for="duree">Durée (en minutes)</label>
        <input 
          type="number" 
          id="duree" 
          name="duree" 
          [(ngModel)]="prestation.duree" 
          required
          min="1"
          class="form-control"
        >
      </div>
  
      <div class="form-group">
        <label for="typeVehicule">Type de véhicule</label>
        <select 
          id="typeVehicule" 
          name="typeVehicule" 
          [(ngModel)]="prestation.typeVehicule" 
          required
          class="form-control"
          [disabled]="loadingTypes"
        >
          <option value="" disabled selected>Sélectionnez un type</option>
          <option *ngFor="let type of typeVehicules" [value]="type._id">
            {{ type.name }}
          </option>
        </select>
        <div *ngIf="loadingTypes" class="text-muted">Chargement des types...</div>
      </div>
  
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="isLoading || !prestationForm.form.valid"
      >
        <span *ngIf="!isLoading">Créer</span>
        <span *ngIf="isLoading">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Création en cours...
        </span>
      </button>
    </form>
  </div>



  <!-- src/app/prestation-list/prestation-list.component.html -->
<div class="container mt-4">
  <h2>Liste des Prestations</h2>
  
  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <table *ngIf="!isLoading" class="table table-striped">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Durée (min)</th>
        <th>Type de véhicule</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let prestation of prestations">
        <td>{{ prestation.name }}</td>
        <td>{{ prestation.duree }}</td>
        <td>{{ prestation.typeVehicule }}</td>
      </tr>
    </tbody>
  </table>
</div>