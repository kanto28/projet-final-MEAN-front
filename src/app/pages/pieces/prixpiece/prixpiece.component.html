<p-toolbar styleClass="mb-6">
    <ng-template #start>
        <h3>Pièce sélectionnée : <span class="text-primary">Alternateur</span></h3>
    </ng-template>

    <ng-template #end>
        <p-button label="Ajouter un prix" icon="pi pi-plus" severity="secondary" class="mr-2" (onClick)="ouvrirAjoutPrix()" />
    </ng-template>
</p-toolbar>

<div class="card">
    <p-table [value]="prixList" responsiveLayout="scroll">
        <ng-template #caption>
            <h5 class="m-0">Évolution des prix</h5>
        </ng-template>

        <ng-template #header>
            <tr>
                <th>Date</th>
                <th>Prix (€)</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-prix>
            <tr>
                <td>{{ prix.date }}</td>
                <td>{{ prix.montant }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<!-- Modal d'ajout d'un prix -->
<p-dialog [(visible)]="ajoutPrix" [style]="{ width: '450px' }" header="Ajouter un nouveau prix" [modal]="true">
    <ng-template #content>
        <div class="flex flex-col gap-6">
            <div>
                <label for="date" class="block font-bold mb-3">Date</label>
                <input type="date" pInputText id="date" required />
            </div>
            <div>
                <label for="prix" class="block font-bold mb-3">Prix (€)</label>
                <input type="number" pInputText id="prix" required />
            </div>
        </div>
    </ng-template>

    <ng-template #footer>
        <p-button label="Annuler" icon="pi pi-times" text (click)="fermerAjoutPrix()" />
        <p-button label="Enregistrer" icon="pi pi-check" />
    </ng-template>
</p-dialog>
