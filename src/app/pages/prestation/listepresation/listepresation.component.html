<p-toolbar styleClass="mb-6">
  <ng-template #start>
    <div class="font-semibold text-xl">Liste des Prestations</div>
  </ng-template>
</p-toolbar>

<div class="card p-4 bg-white shadow-md rounded-lg dark:bg-gray-800">
  <!-- <p-table 
    [value]="prestations" 
    [paginator]="true" 
    [rows]="5" 
    [rowsPerPageOptions]="[5, 10, 20]" 
    responsiveLayout="scroll"
    class="w-full"
  >
    <ng-template pTemplate="header">
      <tr class="bg-gray-200 dark:bg-gray-700">
        <th class="text-left px-4 py-2 text-gray-700 dark:text-gray-300">Nom Mécanicien</th>
        <th class="text-left px-4 py-2 text-gray-700 dark:text-gray-300">Prestation</th>
        <th class="text-left px-4 py-2 text-gray-700 dark:text-gray-300">Date</th>
        <th class="text-left px-4 py-2 text-gray-700 dark:text-gray-300">Statut</th>
        <th class="text-left px-4 py-2 text-gray-700 dark:text-gray-300">Actions</th>
      </tr>
    </ng-template>
    
    <ng-template pTemplate="body" let-prestation>
      <tr class="border-b dark:border-gray-600">
        <td class="px-4 py-2 font-medium text-gray-900 dark:text-gray-200">{{ prestation.nomMecanicien }}</td>
        <td class="px-4 py-2 text-gray-700 dark:text-gray-300">{{ prestation.prestation }}</td>
        <td class="px-4 py-2 text-gray-500 dark:text-gray-400">{{ prestation.date }}</td>
        <td class="px-4 py-2">
          <span class="badge" [ngClass]="getStatusColor(prestation.statut)">
            {{ prestation.statut }}
          </span>
        </td>
        <td class="px-4 py-2">
          <button pButton type="button" icon="pi pi-eye" class="p-button-sm p-button-text p-button-info"></button>
          <button pButton type="button" icon="pi pi-pencil" class="p-button-sm p-button-text p-button-warning"></button>
        </td>
      </tr>
    </ng-template>
  </p-table> -->

  <p-select 
  [options]="prestations" 
  [(ngModel)]="selectedPrestationId" 
  optionLabel="name" 
  placeholder="Sélectionner une prestation"
  (onChange)="onPrestationSelect($event.value)">
</p-select>

<p-table [value]="prestationsMecanicien" [loading]="loading">
  <ng-template pTemplate="header">
    <tr>
      <th>Nom du Mécanicien</th>
      <th>Prestation</th>
      <th>Statut</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-prestation>
    <tr>
      <td>{{ prestation.user.username }}</td>
      <td>{{ prestation.prestation.name }}</td>
      <td>{{ prestation.status ? 'Actif' : 'Inactif' }}</td>
    </tr>
  </ng-template>
</p-table>

</div>
